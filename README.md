# ãƒãƒƒãƒ—æ¡ˆå†… (MapAnNai) - äº¤äº’å¼åœ°å›¾ç¼–è¾‘å™¨

ä¸€ä¸ªåŸºäºNext.jså’ŒMapboxçš„äº¤äº’å¼åœ°å›¾æ ‡è®°ç¼–è¾‘å¹³å°ï¼Œæ”¯æŒå¯Œæ–‡æœ¬å†…å®¹ç¼–è¾‘ã€åæ ‡è·³è½¬ã€æ ‡è®°åˆ†ç±»ç­‰åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. Mapbox é…ç½®ç”³è¯·

#### 1.1 åˆ›å»º Mapbox è´¦æˆ·
1. è®¿é—® [Mapboxå®˜ç½‘](https://www.mapbox.com/)
2. æ³¨å†Œæ–°è´¦æˆ·æˆ–ç™»å½•ç°æœ‰è´¦æˆ·
3. è¿›å…¥ [Accounté¡µé¢](https://account.mapbox.com/)

#### 1.2 è·å– Access Token
1. åœ¨ Account é¡µé¢æ‰¾åˆ° "Access tokens" éƒ¨åˆ†
2. åˆ›å»ºæ–°çš„ Public tokenï¼ˆç”¨äºåœ°å›¾æ˜¾ç¤ºï¼‰
3. åˆ›å»ºæ–°çš„ Secret tokenï¼ˆç”¨äº Dataset APIï¼‰
4. è®°å½•ä¸‹è¿™ä¸¤ä¸ª token

#### 1.3 åˆ›å»º Dataset
1. è®¿é—® [Mapbox Datasets](https://studio.mapbox.com/datasets/)
2. ç‚¹å‡» "New dataset"
3. é€‰æ‹© "Empty dataset"
4. è®°å½•ä¸‹ Dataset ID

### 2. AWS S3 é…ç½®

#### 2.1 åˆ›å»º S3 å­˜å‚¨æ¡¶
1. ç™»å½• [AWS Console](https://console.aws.amazon.com/)
2. è¿›å…¥ S3 æœåŠ¡
3. åˆ›å»ºæ–°çš„å­˜å‚¨æ¡¶ï¼Œåç§°å¦‚ï¼š`mapannai`
4. é…ç½®å­˜å‚¨æ¡¶æƒé™ï¼ˆå…è®¸å…¬å…±è¯»å–ï¼‰

#### 2.2 åˆ›å»º IAM ç”¨æˆ·
1. è¿›å…¥ IAM æœåŠ¡
2. åˆ›å»ºæ–°ç”¨æˆ·ï¼Œå¦‚ï¼š`mapannai-s3-user`
3. é™„åŠ  `AmazonS3FullAccess` ç­–ç•¥
4. åˆ›å»º Access Key å’Œ Secret Key

### 3. ç¼–è¾‘é…ç½®æ–‡ä»¶

#### 3.1 æ›´æ–° config.ts
ç¼–è¾‘ `src/lib/config.ts` æ–‡ä»¶ï¼š

```typescript
export const config = {
    mapbox: {
        accessToken: 'pk.YOUR_PUBLIC_ACCESS_TOKEN', // æ›¿æ¢ä¸ºæ‚¨çš„ Public Token
        style: 'mapbox://styles/mapbox/satellite-streets-v12',
        dataset: {
            username: 'YOUR_MAPBOX_USERNAME', // æ›¿æ¢ä¸ºæ‚¨çš„ Mapbox ç”¨æˆ·å
            secretAccessToken: 'sk.YOUR_SECRET_ACCESS_TOKEN', // æ›¿æ¢ä¸ºæ‚¨çš„ Secret Token
            datasetId: 'YOUR_DATASET_ID', // æ›¿æ¢ä¸ºæ‚¨çš„ Dataset ID
        },
    },
    aws: {
        s3: {
            accessKeyId: 'YOUR_AWS_ACCESS_KEY_ID',
            secretAccessKey: 'YOUR_AWS_SECRET_ACCESS_KEY',
            region: 'ap-northeast-1',
            bucket: 'mapannai', // æ‚¨çš„ S3 å­˜å‚¨æ¡¶åç§°
        },
    },
    app: {
        name: 'ãƒãƒƒãƒ—æ¡ˆå†… - äº¤äº’å¼åœ°å›¾ç¼–è¾‘å™¨',
        version: '1.0.0',
        defaultCenter: {
            latitude: 35.452,
            longitude: 139.638,
        },
        defaultZoom: 14.09,
    },
    // åŸå¸‚å¿«é€Ÿè·³è½¬é…ç½®
    cities: {
        kyoto: {
            name: 'äº¬éƒ½',
            coordinates: { longitude: 135.7681, latitude: 35.0116 },
            zoom: 14
        },
        osaka: {
            name: 'å¤§é˜ª',
            coordinates: { longitude: 135.5022, latitude: 34.6937 },
            zoom: 14
        },
        yokohama: {
            name: 'æ¨ªæ»¨',
            coordinates: { longitude: 139.6380, latitude: 35.452 },
            zoom: 14
        },
        // æ‚¨å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šåŸå¸‚
        tokyo: {
            name: 'ä¸œäº¬',
            coordinates: { longitude: 139.6917, latitude: 35.6895 },
            zoom: 11
        },
        nagoya: {
            name: 'åå¤å±‹',
            coordinates: { longitude: 136.9066, latitude: 35.1815 },
            zoom: 11
        },
    },
} as const
```

#### 3.2 æ·»åŠ åŸå¸‚é…ç½®
åœ¨ `cities` é…ç½®ä¸­æ·»åŠ æ‚¨éœ€è¦çš„åŸå¸‚ï¼š

```typescript
cities: {
    // ç°æœ‰åŸå¸‚...
    yourCity: {
        name: 'æ‚¨çš„åŸå¸‚å',
        coordinates: { longitude: ç»åº¦, latitude: çº¬åº¦ },
        zoom: ç¼©æ”¾çº§åˆ«
    },
}
```

## ğŸš€ éƒ¨ç½²åˆ° AWS Amplify

#### åˆ›å»º Amplify åº”ç”¨
1. ç™»å½• [AWS Amplify Console](https://console.aws.amazon.com/amplify/)
2. ç‚¹å‡» "New app" â†’ "Host web app"
3. é€‰æ‹© "GitHub" æˆ–å…¶ä»–ä»£ç ä»“åº“
4. è¿æ¥æ‚¨çš„ä»£ç ä»“åº“


### åŸºæœ¬åŠŸèƒ½

#### 1. åœ°å›¾å¯¼èˆª
- **å¹³ç§»**ï¼šé¼ æ ‡æ‹–æ‹½
- **ç¼©æ”¾**ï¼šé¼ æ ‡æ»šè½®æˆ–åŒæŒ‡ç¼©æ”¾
- **æ—‹è½¬**ï¼šæŒ‰ä½ Ctrl + é¼ æ ‡æ‹–æ‹½

#### 2. æ ‡è®°ç®¡ç†

##### æ·»åŠ æ ‡è®°
1. å¯ç”¨ç¼–è¾‘æ¨¡å¼ï¼ˆå·¦ä¾§è¾¹æ å¼€å…³ï¼‰
2. ç‚¹å‡»åœ°å›¾ç©ºç™½å¤„
3. ç‚¹å‡»"æ·»åŠ "æŒ‰é’®
4. å¡«å†™æ ‡è®°ä¿¡æ¯ï¼š
   - æ ‡é¢˜
   - å›¾æ ‡ç±»å‹ï¼ˆæ´»åŠ¨/ä½ç½®/é…’åº—/è´­ç‰©ï¼‰
   - é¦–å›¾ï¼ˆå¯é€‰ï¼‰
   - è¯¦ç»†å†…å®¹ï¼ˆä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰

##### ç¼–è¾‘æ ‡è®°
1. ç‚¹å‡»ç°æœ‰æ ‡è®°
2. ç‚¹å‡»"ç¼–è¾‘"æŒ‰é’®
3. ä¿®æ”¹æ ‡è®°ä¿¡æ¯
4. ç‚¹å‡»"ä¿å­˜"

##### åˆ é™¤æ ‡è®°
1. ç‚¹å‡»æ ‡è®°
2. ç‚¹å‡»"åˆ é™¤"æŒ‰é’®
3. ç¡®è®¤åˆ é™¤

#### 3. æœç´¢åŠŸèƒ½

##### æ ‡è®°æœç´¢
1. æ‰“å¼€å·¦ä¾§è¾¹æ 
2. åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å…³é”®è¯
3. ç‚¹å‡»æœç´¢ç»“æœè·³è½¬åˆ°æ ‡è®°ä½ç½®

##### åæ ‡è·³è½¬
1. æ‰“å¼€å·¦ä¾§è¾¹æ 
2. å±•å¼€"åæ ‡è·³è½¬"åŒºåŸŸ
3. è¾“å…¥åæ ‡ï¼ˆæ ¼å¼ï¼šçº¬åº¦, ç»åº¦ï¼‰
4. ç‚¹å‡»"è·³è½¬"æŒ‰é’®

æ”¯æŒçš„åæ ‡æ ¼å¼ï¼š
- `35.452, 139.638`
- `35.452 139.638`

#### 4. åŸå¸‚å¿«é€Ÿè·³è½¬
- ç‚¹å‡»å³ä¸‹è§’çš„åŸå¸‚æŒ‰é’®
- åœ°å›¾è‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”åŸå¸‚

#### 5. å³ä¾§è¾¹æ 
- ç‚¹å‡»æ ‡è®°åè‡ªåŠ¨æ‰“å¼€
- æ˜¾ç¤ºæ ‡è®°çš„è¯¦ç»†å†…å®¹
- æ”¯æŒæ»šåŠ¨æŸ¥çœ‹é•¿å†…å®¹

### åŠŸèƒ½è¯¦æƒ…

#### 1. æ ‡è®°åˆ†ç±»
- **æ´»åŠ¨** ğŸ¯ï¼šæ´»åŠ¨å’Œå¨±ä¹åœºæ‰€
- **ä½ç½®** ğŸ“ï¼šä¸€èˆ¬åœ°ç‚¹æ ‡è®°
- **é…’åº—** ğŸ¨ï¼šä½å®¿å’Œé…’åº—
- **è´­ç‰©** ğŸ›ï¸ï¼šè´­ç‰©ä¸­å¿ƒå’Œå•†åº—

#### 2. å¯Œæ–‡æœ¬ç¼–è¾‘
- æ”¯æŒæ ‡é¢˜ã€æ®µè½ã€åˆ—è¡¨
- æ”¯æŒå¼•ç”¨ã€å›¾ç‰‡
- æ”¯æŒé“¾æ¥å’Œæ ¼å¼åŒ–

#### 3. æ•°æ®åŒæ­¥
- æ ‡è®°æ•°æ®è‡ªåŠ¨ä¿å­˜åˆ° Mapbox Dataset
- å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ åˆ° AWS S3
- æ”¯æŒå¤šäººåä½œç¼–è¾‘


## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [Issues](../../issues) é¡µé¢
2. åˆ›å»ºæ–°çš„ Issue
3. è”ç³»é¡¹ç›®ç»´æŠ¤è€…

---

**ãƒãƒƒãƒ—æ¡ˆå†…** - è®©åœ°å›¾ç¼–è¾‘å˜å¾—ç®€å•è€Œå¼ºå¤§ï¼ ğŸ—ºï¸âœ¨
